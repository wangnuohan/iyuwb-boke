(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{466:function(t,e,s){"use strict";s.r(e);var a=s(53),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"parser-function-for-floating-point-hexadecimals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parser-function-for-floating-point-hexadecimals"}},[t._v("#")]),t._v(" Parser function for floating point hexadecimals")]),t._v(" "),s("p",[s("a",{attrs:{href:""}},[s("img",{attrs:{src:"https://img.shields.io/github/license/maurobringolf/@webassemblyjs/floating-point-hex-parser.svg",alt:"license"}})]),t._v(" "),s("a",{attrs:{href:""}},[s("img",{attrs:{src:"https://img.shields.io/github/last-commit/maurobringolf/@webassemblyjs/floating-point-hex-parser.svg",alt:"GitHub last commit"}})]),t._v(" "),s("a",{attrs:{href:""}},[s("img",{attrs:{src:"https://img.shields.io/npm/v/@webassemblyjs/floating-point-hex-parser.svg",alt:"npm"}})])]),t._v(" "),s("blockquote",[s("p",[t._v("A JavaScript function to parse floating point hexadecimals as defined by the "),s("a",{attrs:{href:"https://webassembly.github.io/spec/core/text/values.html#text-hexfloat",target:"_blank",rel:"noopener noreferrer"}},[t._v("WebAssembly specification"),s("OutboundLink")],1),t._v(".")])]),t._v(" "),s("h2",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" parseHexFloat "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@webassemblyjs/floating-point-hex-parser'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseHexFloat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0x1p-1'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("               "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 0.5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseHexFloat")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'0x1.921fb54442d18p+2'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6.283185307179586")]),t._v("\n")])])]),s("h2",{attrs:{id:"tests"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tests"}},[t._v("#")]),t._v(" Tests")]),t._v(" "),s("p",[t._v("This module is tested in two ways. The first one is through a small set of test cases that can be found in "),s("a",{attrs:{href:"https://github.com/maurobringolf/@webassemblyjs/floating-point-hex-parser/blob/master/test/regular.test.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("test/regular.test.js"),s("OutboundLink")],1),t._v(". The second one is non-deterministic (sometimes called "),s("em",[t._v("fuzzing")]),t._v("):")]),t._v(" "),s("ol",[s("li",[t._v("Generate a random IEEE754 double precision value "),s("code",[t._v("x")]),t._v(".")]),t._v(" "),s("li",[t._v("Compute its representation "),s("code",[t._v("y")]),t._v(" in floating point hexadecimal format using the C standard library function "),s("code",[t._v("printf")]),t._v(" since C supports this format.")]),t._v(" "),s("li",[t._v("Give both values to JS testcase and see if "),s("code",[t._v("parseHexFloat(y) === x")]),t._v(".")])]),t._v(" "),s("p",[t._v("By default one "),s("code",[t._v("npm test")]),t._v(" run tests 100 random samples. If you want to do more, you can set the environment variable "),s("code",[t._v("FUZZ_AMOUNT")]),t._v(" to whatever number of runs you'd like. Because it uses one child process for each sample, it is really slow though. For more details about the randomized tests see "),s("a",{attrs:{href:"https://github.com/maurobringolf/@webassemblyjs/floating-point-hex-parser/tree/master/test/fuzzing",target:"_blank",rel:"noopener noreferrer"}},[t._v("the source"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h2",{attrs:{id:"links"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#links"}},[t._v("#")]),t._v(" Links")]),t._v(" "),s("ul",[s("li",[s("p",[s("a",{attrs:{href:"https://maurobringolf.ch/2017/12/hexadecimal-floating-point-notation/",target:"_blank",rel:"noopener noreferrer"}},[t._v("maurobringolf.ch/2017/12/hexadecimal-floating-point-notation/"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://github.com/xtuc/js-webassembly-interpreter/issues/32",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.com/xtuc/js-webassembly-interpreter/issues/32"),s("OutboundLink")],1)])]),t._v(" "),s("li",[s("p",[s("a",{attrs:{href:"https://github.com/WebAssembly/design/issues/292",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.com/WebAssembly/design/issues/292"),s("OutboundLink")],1)])])])])}),[],!1,null,null,null);e.default=r.exports}}]);