(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{512:function(t,e,s){"use strict";s.r(e);var a=s(53),n=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("img",{attrs:{src:"media/logo.svg",width:"400"}}),t._v(" "),s("br"),t._v(" "),s("p",[s("a",{attrs:{href:"https://codecov.io/gh/sindresorhus/execa",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:"https://codecov.io/gh/sindresorhus/execa/branch/main/graph/badge.svg",alt:"Coverage Status"}}),s("OutboundLink")],1)]),t._v(" "),s("blockquote",[s("p",[t._v("Process execution for humans")])]),t._v(" "),s("h2",{attrs:{id:"why"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#why"}},[t._v("#")]),t._v(" Why")]),t._v(" "),s("p",[t._v("This package improves "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process")]),s("OutboundLink")],1),t._v(" methods with:")]),t._v(" "),s("ul",[s("li",[t._v("Promise interface.")]),t._v(" "),s("li",[s("a",{attrs:{href:"#stripfinalnewline"}},[t._v("Strips the final newline")]),t._v(" from the output so you don't have to do "),s("code",[t._v("stdout.trim()")]),t._v(".")]),t._v(" "),s("li",[t._v("Supports "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Shebang_(Unix)",target:"_blank",rel:"noopener noreferrer"}},[t._v("shebang"),s("OutboundLink")],1),t._v(" binaries cross-platform.")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/IndigoUnited/node-cross-spawn#why",target:"_blank",rel:"noopener noreferrer"}},[t._v("Improved Windows support."),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("Higher max buffer. 100 MB instead of 200 KB.")]),t._v(" "),s("li",[s("a",{attrs:{href:"#preferlocal"}},[t._v("Executes locally installed binaries by name.")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#cleanup"}},[t._v("Cleans up spawned processes when the parent process dies.")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#all"}},[t._v("Get interleaved output")]),t._v(" from "),s("code",[t._v("stdout")]),t._v(" and "),s("code",[t._v("stderr")]),t._v(" similar to what is printed on the terminal. "),s("a",{attrs:{href:"#execasyncfile-arguments-options"}},[s("em",[t._v("(Async only)")])])]),t._v(" "),s("li",[s("a",{attrs:{href:"#execacommandcommand-options"}},[t._v("Can specify file and arguments as a single string without a shell")])]),t._v(" "),s("li",[t._v("More descriptive errors.")])]),t._v(" "),s("h2",{attrs:{id:"install"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#install"}},[t._v("#")]),t._v(" Install")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ npm install execa\n")])])]),s("h2",{attrs:{id:"usage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[t._v("#")]),t._v(" Usage")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'echo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unicorns'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//=> 'unicorns'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"pipe-the-child-process-stdout-to-the-parent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pipe-the-child-process-stdout-to-the-parent"}},[t._v("#")]),t._v(" Pipe the child process stdout to the parent")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'echo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unicorns'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"handling-errors"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#handling-errors"}},[t._v("#")]),t._v(" Handling Errors")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Catching an error")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unknown'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'command'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n\t\t{\n\t\t\tmessage: 'Command failed with ENOENT: unknown command spawn unknown ENOENT',\n\t\t\terrno: -2,\n\t\t\tcode: 'ENOENT',\n\t\t\tsyscall: 'spawn unknown',\n\t\t\tpath: 'unknown',\n\t\t\tspawnargs: ['command'],\n\t\t\toriginalMessage: 'spawn unknown ENOENT',\n\t\t\tshortMessage: 'Command failed with ENOENT: unknown command spawn unknown ENOENT',\n\t\t\tcommand: 'unknown command',\n\t\t\tescapedCommand: 'unknown command',\n\t\t\tstdout: '',\n\t\t\tstderr: '',\n\t\t\tall: '',\n\t\t\tfailed: true,\n\t\t\ttimedOut: false,\n\t\t\tisCanceled: false,\n\t\t\tkilled: false\n\t\t}\n\t\t*/")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"cancelling-a-spawned-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cancelling-a-spawned-process"}},[t._v("#")]),t._v(" Cancelling a spawned process")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subprocess "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tsubprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cancel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" subprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("subprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("killed"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\t\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("isCanceled"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"catching-an-error-with-the-sync-method"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#catching-an-error-with-the-sync-method"}},[t._v("#")]),t._v(" Catching an error with the sync method")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("try")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\texeca"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'unknown'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'command'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n\t{\n\t\tmessage: 'Command failed with ENOENT: unknown command spawnSync unknown ENOENT',\n\t\terrno: -2,\n\t\tcode: 'ENOENT',\n\t\tsyscall: 'spawnSync unknown',\n\t\tpath: 'unknown',\n\t\tspawnargs: ['command'],\n\t\toriginalMessage: 'spawnSync unknown ENOENT',\n\t\tshortMessage: 'Command failed with ENOENT: unknown command spawnSync unknown ENOENT',\n\t\tcommand: 'unknown command',\n\t\tescapedCommand: 'unknown command',\n\t\tstdout: '',\n\t\tstderr: '',\n\t\tall: '',\n\t\tfailed: true,\n\t\ttimedOut: false,\n\t\tisCanceled: false,\n\t\tkilled: false\n\t}\n\t*/")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"kill-a-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kill-a-process"}},[t._v("#")]),t._v(" Kill a process")]),t._v(" "),s("p",[t._v("Using SIGTERM, and after 2 seconds, kill it with SIGKILL.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subprocess "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'node'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tsubprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'SIGTERM'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tforceKillAfterTimeout"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),s("h3",{attrs:{id:"execa-file-arguments-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execa-file-arguments-options"}},[t._v("#")]),t._v(" execa(file, arguments, options?)")]),t._v(" "),s("p",[t._v("Execute a file. Think of this as a mix of "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_child_process_execfile_file_args_options_callback",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process.execFile()")]),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process.spawn()")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("No escaping/quoting is needed.")]),t._v(" "),s("p",[t._v("Unless the "),s("a",{attrs:{href:"#shell"}},[s("code",[t._v("shell")])]),t._v(" option is used, no shell interpreter (Bash, "),s("code",[t._v("cmd.exe")]),t._v(", etc.) is used, so shell features such as variables substitution ("),s("code",[t._v("echo $PATH")]),t._v(") are not allowed.")]),t._v(" "),s("p",[t._v("Returns a "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_class_childprocess",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process")]),t._v(" instance"),s("OutboundLink")],1),t._v(" which:")]),t._v(" "),s("ul",[s("li",[t._v("is also a "),s("code",[t._v("Promise")]),t._v(" resolving or rejecting with a "),s("a",{attrs:{href:"#childProcessResult"}},[s("code",[t._v("childProcessResult")])]),t._v(".")]),t._v(" "),s("li",[t._v("exposes the following additional methods and properties.")])]),t._v(" "),s("h4",{attrs:{id:"kill-signal-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#kill-signal-options"}},[t._v("#")]),t._v(" kill(signal?, options?)")]),t._v(" "),s("p",[t._v("Same as the original "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_subprocess_kill_signal",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process#kill()")]),s("OutboundLink")],1),t._v(" except: if "),s("code",[t._v("signal")]),t._v(" is "),s("code",[t._v("SIGTERM")]),t._v(" (the default value) and the child process is not terminated after 5 seconds, force it by sending "),s("code",[t._v("SIGKILL")]),t._v(".")]),t._v(" "),s("h5",{attrs:{id:"options-forcekillaftertimeout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options-forcekillaftertimeout"}},[t._v("#")]),t._v(" options.forceKillAfterTimeout")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("number | false")]),s("br"),t._v("\nDefault: "),s("code",[t._v("5000")])]),t._v(" "),s("p",[t._v("Milliseconds to wait for the child process to terminate before sending "),s("code",[t._v("SIGKILL")]),t._v(".")]),t._v(" "),s("p",[t._v("Can be disabled with "),s("code",[t._v("false")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"cancel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cancel"}},[t._v("#")]),t._v(" cancel()")]),t._v(" "),s("p",[t._v("Similar to "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_subprocess_kill_signal",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("childProcess.kill()")]),s("OutboundLink")],1),t._v(". This is preferred when cancelling the child process execution as the error is more descriptive and "),s("a",{attrs:{href:"#iscanceled"}},[s("code",[t._v("childProcessResult.isCanceled")])]),t._v(" is set to "),s("code",[t._v("true")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"all"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#all"}},[t._v("#")]),t._v(" all")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("ReadableStream | undefined")])]),t._v(" "),s("p",[t._v("Stream combining/interleaving "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_subprocess_stdout",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("stdout")]),s("OutboundLink")],1),t._v(" and "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_subprocess_stderr",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("stderr")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("p",[t._v("This is "),s("code",[t._v("undefined")]),t._v(" if either:")]),t._v(" "),s("ul",[s("li",[t._v("the "),s("a",{attrs:{href:"#all-2"}},[s("code",[t._v("all")]),t._v(" option")]),t._v(" is "),s("code",[t._v("false")]),t._v(" (the default value)")]),t._v(" "),s("li",[t._v("both "),s("a",{attrs:{href:"#stdout-1"}},[s("code",[t._v("stdout")])]),t._v(" and "),s("a",{attrs:{href:"#stderr-1"}},[s("code",[t._v("stderr")])]),t._v(" options are set to "),s("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("'inherit'")]),t._v(", "),s("code",[t._v("'ipc'")]),t._v(", "),s("code",[t._v("Stream")]),t._v(" or "),s("code",[t._v("integer")]),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"execa-sync-file-arguments-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execa-sync-file-arguments-options"}},[t._v("#")]),t._v(" execa.sync(file, arguments?, options?)")]),t._v(" "),s("p",[t._v("Execute a file synchronously.")]),t._v(" "),s("p",[t._v("Returns or throws a "),s("a",{attrs:{href:"#childProcessResult"}},[s("code",[t._v("childProcessResult")])]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"execa-command-command-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execa-command-command-options"}},[t._v("#")]),t._v(" execa.command(command, options?)")]),t._v(" "),s("p",[t._v("Same as "),s("a",{attrs:{href:"#execafile-arguments-options"}},[s("code",[t._v("execa()")])]),t._v(" except both file and arguments are specified in a single "),s("code",[t._v("command")]),t._v(" string. For example, "),s("code",[t._v("execa('echo', ['unicorns'])")]),t._v(" is the same as "),s("code",[t._v("execa.command('echo unicorns')")]),t._v(".")]),t._v(" "),s("p",[t._v("If the file or an argument contains spaces, they must be escaped with backslashes. This matters especially if "),s("code",[t._v("command")]),t._v(" is not a constant but a variable, for example with "),s("code",[t._v("__dirname")]),t._v(" or "),s("code",[t._v("process.cwd()")]),t._v(". Except for spaces, no escaping/quoting is needed.")]),t._v(" "),s("p",[t._v("The "),s("a",{attrs:{href:"#shell"}},[s("code",[t._v("shell")]),t._v(" option")]),t._v(" must be used if the "),s("code",[t._v("command")]),t._v(" uses shell-specific features (for example, "),s("code",[t._v("&&")]),t._v(" or "),s("code",[t._v("||")]),t._v("), as opposed to being a simple "),s("code",[t._v("file")]),t._v(" followed by its "),s("code",[t._v("arguments")]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"execa-commandsync-command-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execa-commandsync-command-options"}},[t._v("#")]),t._v(" execa.commandSync(command, options?)")]),t._v(" "),s("p",[t._v("Same as "),s("a",{attrs:{href:"#execacommand-command-options"}},[s("code",[t._v("execa.command()")])]),t._v(" but synchronous.")]),t._v(" "),s("p",[t._v("Returns or throws a "),s("a",{attrs:{href:"#childProcessResult"}},[s("code",[t._v("childProcessResult")])]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"execa-node-scriptpath-arguments-options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execa-node-scriptpath-arguments-options"}},[t._v("#")]),t._v(" execa.node(scriptPath, arguments?, options?)")]),t._v(" "),s("p",[t._v("Execute a Node.js script as a child process.")]),t._v(" "),s("p",[t._v("Same as "),s("code",[t._v("execa('node', [scriptPath, ...arguments], options)")]),t._v(" except (like "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process#fork()")]),s("OutboundLink")],1),t._v("):")]),t._v(" "),s("ul",[s("li",[t._v("the current Node version and options are used. This can be overridden using the "),s("a",{attrs:{href:"#nodepath-for-node-only"}},[s("code",[t._v("nodePath")])]),t._v(" and "),s("a",{attrs:{href:"#nodeoptions-for-node-only"}},[s("code",[t._v("nodeOptions")])]),t._v(" options.")]),t._v(" "),s("li",[t._v("the "),s("a",{attrs:{href:"#shell"}},[s("code",[t._v("shell")])]),t._v(" option cannot be used")]),t._v(" "),s("li",[t._v("an extra channel "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_options_stdio",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("ipc")]),s("OutboundLink")],1),t._v(" is passed to "),s("a",{attrs:{href:"#stdio"}},[s("code",[t._v("stdio")])])])]),t._v(" "),s("h3",{attrs:{id:"childprocessresult"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#childprocessresult"}},[t._v("#")]),t._v(" childProcessResult")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("object")])]),t._v(" "),s("p",[t._v("Result of a child process execution. On success this is a plain object. On failure this is also an "),s("code",[t._v("Error")]),t._v(" instance.")]),t._v(" "),s("p",[t._v("The child process "),s("a",{attrs:{href:"#failed"}},[t._v("fails")]),t._v(" when:")]),t._v(" "),s("ul",[s("li",[t._v("its "),s("a",{attrs:{href:"#exitcode"}},[t._v("exit code")]),t._v(" is not "),s("code",[t._v("0")])]),t._v(" "),s("li",[t._v("it was "),s("a",{attrs:{href:"#killed"}},[t._v("killed")]),t._v(" with a "),s("a",{attrs:{href:"#signal"}},[t._v("signal")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#timedout"}},[t._v("timing out")])]),t._v(" "),s("li",[s("a",{attrs:{href:"#iscanceled"}},[t._v("being canceled")])]),t._v(" "),s("li",[t._v("there's not enough memory or there are already too many child processes")])]),t._v(" "),s("h4",{attrs:{id:"command"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#command"}},[t._v("#")]),t._v(" command")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")])]),t._v(" "),s("p",[t._v("The file and arguments that were run, for logging purposes.")]),t._v(" "),s("p",[t._v("This is not escaped and should not be executed directly as a process, including using "),s("a",{attrs:{href:"#execafile-arguments-options"}},[s("code",[t._v("execa()")])]),t._v(" or "),s("a",{attrs:{href:"#execacommandcommand-options"}},[s("code",[t._v("execa.command()")])]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"escapedcommand"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#escapedcommand"}},[t._v("#")]),t._v(" escapedCommand")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")])]),t._v(" "),s("p",[t._v("Same as "),s("a",{attrs:{href:"#command"}},[s("code",[t._v("command")])]),t._v(" but escaped.")]),t._v(" "),s("p",[t._v("This is meant to be copy and pasted into a shell, for debugging purposes.\nSince the escaping is fairly basic, this should not be executed directly as a process, including using "),s("a",{attrs:{href:"#execafile-arguments-options"}},[s("code",[t._v("execa()")])]),t._v(" or "),s("a",{attrs:{href:"#execacommandcommand-options"}},[s("code",[t._v("execa.command()")])]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"exitcode"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#exitcode"}},[t._v("#")]),t._v(" exitCode")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("number")])]),t._v(" "),s("p",[t._v("The numeric exit code of the process that was run.")]),t._v(" "),s("h4",{attrs:{id:"stdout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stdout"}},[t._v("#")]),t._v(" stdout")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | Buffer")])]),t._v(" "),s("p",[t._v("The output of the process on stdout.")]),t._v(" "),s("h4",{attrs:{id:"stderr"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stderr"}},[t._v("#")]),t._v(" stderr")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | Buffer")])]),t._v(" "),s("p",[t._v("The output of the process on stderr.")]),t._v(" "),s("h4",{attrs:{id:"all-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#all-2"}},[t._v("#")]),t._v(" all")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | Buffer | undefined")])]),t._v(" "),s("p",[t._v("The output of the process with "),s("code",[t._v("stdout")]),t._v(" and "),s("code",[t._v("stderr")]),t._v(" interleaved.")]),t._v(" "),s("p",[t._v("This is "),s("code",[t._v("undefined")]),t._v(" if either:")]),t._v(" "),s("ul",[s("li",[t._v("the "),s("a",{attrs:{href:"#all-2"}},[s("code",[t._v("all")]),t._v(" option")]),t._v(" is "),s("code",[t._v("false")]),t._v(" (the default value)")]),t._v(" "),s("li",[s("code",[t._v("execa.sync()")]),t._v(" was used")])]),t._v(" "),s("h4",{attrs:{id:"failed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#failed"}},[t._v("#")]),t._v(" failed")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")])]),t._v(" "),s("p",[t._v("Whether the process failed to run.")]),t._v(" "),s("h4",{attrs:{id:"timedout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#timedout"}},[t._v("#")]),t._v(" timedOut")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")])]),t._v(" "),s("p",[t._v("Whether the process timed out.")]),t._v(" "),s("h4",{attrs:{id:"iscanceled"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#iscanceled"}},[t._v("#")]),t._v(" isCanceled")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")])]),t._v(" "),s("p",[t._v("Whether the process was canceled.")]),t._v(" "),s("h4",{attrs:{id:"killed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#killed"}},[t._v("#")]),t._v(" killed")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")])]),t._v(" "),s("p",[t._v("Whether the process was killed.")]),t._v(" "),s("h4",{attrs:{id:"signal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#signal"}},[t._v("#")]),t._v(" signal")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | undefined")])]),t._v(" "),s("p",[t._v("The name of the signal that was used to terminate the process. For example, "),s("code",[t._v("SIGFPE")]),t._v(".")]),t._v(" "),s("p",[t._v("If a signal terminated the process, this property is defined and included in the error message. Otherwise it is "),s("code",[t._v("undefined")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"signaldescription"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#signaldescription"}},[t._v("#")]),t._v(" signalDescription")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | undefined")])]),t._v(" "),s("p",[t._v("A human-friendly description of the signal that was used to terminate the process. For example, "),s("code",[t._v("Floating point arithmetic error")]),t._v(".")]),t._v(" "),s("p",[t._v("If a signal terminated the process, this property is defined and included in the error message. Otherwise it is "),s("code",[t._v("undefined")]),t._v(". It is also "),s("code",[t._v("undefined")]),t._v(" when the signal is very uncommon which should seldomly happen.")]),t._v(" "),s("h4",{attrs:{id:"message"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#message"}},[t._v("#")]),t._v(" message")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")])]),t._v(" "),s("p",[t._v("Error message when the child process failed to run. In addition to the "),s("a",{attrs:{href:"#originalMessage"}},[t._v("underlying error message")]),t._v(", it also contains some information related to why the child process errored.")]),t._v(" "),s("p",[t._v("The child process "),s("a",{attrs:{href:"#stderr"}},[t._v("stderr")]),t._v(" then "),s("a",{attrs:{href:"#stdout"}},[t._v("stdout")]),t._v(" are appended to the end, separated with newlines and not interleaved.")]),t._v(" "),s("h4",{attrs:{id:"shortmessage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shortmessage"}},[t._v("#")]),t._v(" shortMessage")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")])]),t._v(" "),s("p",[t._v("This is the same as the "),s("a",{attrs:{href:"#message"}},[s("code",[t._v("message")]),t._v(" property")]),t._v(" except it does not include the child process stdout/stderr.")]),t._v(" "),s("h4",{attrs:{id:"originalmessage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#originalmessage"}},[t._v("#")]),t._v(" originalMessage")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | undefined")])]),t._v(" "),s("p",[t._v("Original error message. This is the same as the "),s("code",[t._v("message")]),t._v(" property except it includes neither the child process stdout/stderr nor some additional information added by Execa.")]),t._v(" "),s("p",[t._v("This is "),s("code",[t._v("undefined")]),t._v(" unless the child process exited due to an "),s("code",[t._v("error")]),t._v(" event or a timeout.")]),t._v(" "),s("h3",{attrs:{id:"options"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#options"}},[t._v("#")]),t._v(" options")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("object")])]),t._v(" "),s("h4",{attrs:{id:"cleanup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cleanup"}},[t._v("#")]),t._v(" cleanup")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("true")])]),t._v(" "),s("p",[t._v("Kill the spawned process when the parent process exits unless either:\n- the spawned process is "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_options_detached",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("detached")]),s("OutboundLink")],1),t._v("\n- the parent process is terminated abruptly, for example, with "),s("code",[t._v("SIGKILL")]),t._v(" as opposed to "),s("code",[t._v("SIGTERM")]),t._v(" or a normal exit")]),t._v(" "),s("h4",{attrs:{id:"preferlocal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#preferlocal"}},[t._v("#")]),t._v(" preferLocal")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("false")])]),t._v(" "),s("p",[t._v("Prefer locally installed binaries when looking for a binary to execute."),s("br"),t._v("\nIf you "),s("code",[t._v("$ npm install foo")]),t._v(", you can then "),s("code",[t._v("execa('foo')")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"localdir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#localdir"}},[t._v("#")]),t._v(" localDir")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")]),s("br"),t._v("\nDefault: "),s("code",[t._v("process.cwd()")])]),t._v(" "),s("p",[t._v("Preferred path to find locally installed binaries in (use with "),s("code",[t._v("preferLocal")]),t._v(").")]),t._v(" "),s("h4",{attrs:{id:"execpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execpath"}},[t._v("#")]),t._v(" execPath")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")]),s("br"),t._v("\nDefault: "),s("code",[t._v("process.execPath")]),t._v(" (Current Node.js executable)")]),t._v(" "),s("p",[t._v("Path to the Node.js executable to use in child processes.")]),t._v(" "),s("p",[t._v("This can be either an absolute path or a path relative to the "),s("a",{attrs:{href:"#cwd"}},[s("code",[t._v("cwd")]),t._v(" option")]),t._v(".")]),t._v(" "),s("p",[t._v("Requires "),s("a",{attrs:{href:"#preferlocal"}},[s("code",[t._v("preferLocal")])]),t._v(" to be "),s("code",[t._v("true")]),t._v(".")]),t._v(" "),s("p",[t._v("For example, this can be used together with "),s("a",{attrs:{href:"https://github.com/ehmicky/get-node",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("get-node")]),s("OutboundLink")],1),t._v(" to run a specific Node.js version in a child process.")]),t._v(" "),s("h4",{attrs:{id:"buffer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#buffer"}},[t._v("#")]),t._v(" buffer")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("true")])]),t._v(" "),s("p",[t._v("Buffer the output from the spawned process. When set to "),s("code",[t._v("false")]),t._v(", you must read the output of "),s("a",{attrs:{href:"#stdout-1"}},[s("code",[t._v("stdout")])]),t._v(" and "),s("a",{attrs:{href:"#stderr-1"}},[s("code",[t._v("stderr")])]),t._v(" (or "),s("a",{attrs:{href:"#all"}},[s("code",[t._v("all")])]),t._v(" if the "),s("a",{attrs:{href:"#all-2"}},[s("code",[t._v("all")])]),t._v(" option is "),s("code",[t._v("true")]),t._v("). Otherwise the returned promise will not be resolved/rejected.")]),t._v(" "),s("p",[t._v("If the spawned process fails, "),s("a",{attrs:{href:"#stdout"}},[s("code",[t._v("error.stdout")])]),t._v(", "),s("a",{attrs:{href:"#stderr"}},[s("code",[t._v("error.stderr")])]),t._v(", and "),s("a",{attrs:{href:"#all"}},[s("code",[t._v("error.all")])]),t._v(" will contain the buffered data.")]),t._v(" "),s("h4",{attrs:{id:"input"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#input"}},[t._v("#")]),t._v(" input")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | Buffer | stream.Readable")])]),t._v(" "),s("p",[t._v("Write some input to the "),s("code",[t._v("stdin")]),t._v(" of your binary."),s("br"),t._v("\nStreams are not allowed when using the synchronous methods.")]),t._v(" "),s("h4",{attrs:{id:"stdin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stdin"}},[t._v("#")]),t._v(" stdin")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | number | Stream | undefined")]),s("br"),t._v("\nDefault: "),s("code",[t._v("pipe")])]),t._v(" "),s("p",[t._v("Same options as "),s("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("stdio")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"stdout-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stdout-2"}},[t._v("#")]),t._v(" stdout")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | number | Stream | undefined")]),s("br"),t._v("\nDefault: "),s("code",[t._v("pipe")])]),t._v(" "),s("p",[t._v("Same options as "),s("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("stdio")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"stderr-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stderr-2"}},[t._v("#")]),t._v(" stderr")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | number | Stream | undefined")]),s("br"),t._v("\nDefault: "),s("code",[t._v("pipe")])]),t._v(" "),s("p",[t._v("Same options as "),s("a",{attrs:{href:"https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("stdio")]),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"all-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#all-3"}},[t._v("#")]),t._v(" all")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("false")])]),t._v(" "),s("p",[t._v("Add an "),s("code",[t._v(".all")]),t._v(" property on the "),s("a",{attrs:{href:"#all"}},[t._v("promise")]),t._v(" and the "),s("a",{attrs:{href:"#all-1"}},[t._v("resolved value")]),t._v(". The property contains the output of the process with "),s("code",[t._v("stdout")]),t._v(" and "),s("code",[t._v("stderr")]),t._v(" interleaved.")]),t._v(" "),s("h4",{attrs:{id:"reject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reject"}},[t._v("#")]),t._v(" reject")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("true")])]),t._v(" "),s("p",[t._v("Setting this to "),s("code",[t._v("false")]),t._v(" resolves the promise with the error instead of rejecting it.")]),t._v(" "),s("h4",{attrs:{id:"stripfinalnewline"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stripfinalnewline"}},[t._v("#")]),t._v(" stripFinalNewline")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("true")])]),t._v(" "),s("p",[t._v("Strip the final "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Newline",target:"_blank",rel:"noopener noreferrer"}},[t._v("newline character"),s("OutboundLink")],1),t._v(" from the output.")]),t._v(" "),s("h4",{attrs:{id:"extendenv"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#extendenv"}},[t._v("#")]),t._v(" extendEnv")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("true")])]),t._v(" "),s("p",[t._v("Set to "),s("code",[t._v("false")]),t._v(" if you don't want to extend the environment variables when providing the "),s("code",[t._v("env")]),t._v(" property.")]),t._v(" "),s("hr"),t._v(" "),s("p",[t._v("Execa also accepts the below options which are the same as the options for "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process#spawn()")]),s("OutboundLink")],1),t._v("/"),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("child_process#exec()")]),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"cwd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cwd"}},[t._v("#")]),t._v(" cwd")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")]),s("br"),t._v("\nDefault: "),s("code",[t._v("process.cwd()")])]),t._v(" "),s("p",[t._v("Current working directory of the child process.")]),t._v(" "),s("h4",{attrs:{id:"env"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#env"}},[t._v("#")]),t._v(" env")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("object")]),s("br"),t._v("\nDefault: "),s("code",[t._v("process.env")])]),t._v(" "),s("p",[t._v("Environment key-value pairs. Extends automatically from "),s("code",[t._v("process.env")]),t._v(". Set "),s("a",{attrs:{href:"#extendenv"}},[s("code",[t._v("extendEnv")])]),t._v(" to "),s("code",[t._v("false")]),t._v(" if you don't want this.")]),t._v(" "),s("h4",{attrs:{id:"argv0"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#argv0"}},[t._v("#")]),t._v(" argv0")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")])]),t._v(" "),s("p",[t._v("Explicitly set the value of "),s("code",[t._v("argv[0]")]),t._v(" sent to the child process. This will be set to "),s("code",[t._v("file")]),t._v(" if not specified.")]),t._v(" "),s("h4",{attrs:{id:"stdio"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stdio"}},[t._v("#")]),t._v(" stdio")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | string[]")]),s("br"),t._v("\nDefault: "),s("code",[t._v("pipe")])]),t._v(" "),s("p",[t._v("Child's "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_options_stdio",target:"_blank",rel:"noopener noreferrer"}},[t._v("stdio"),s("OutboundLink")],1),t._v(" configuration.")]),t._v(" "),s("h4",{attrs:{id:"serialization"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serialization"}},[t._v("#")]),t._v(" serialization")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")]),s("br"),t._v("\nDefault: "),s("code",[t._v("'json'")])]),t._v(" "),s("p",[t._v("Specify the kind of serialization used for sending messages between processes when using the "),s("a",{attrs:{href:"#stdio"}},[s("code",[t._v("stdio: 'ipc'")])]),t._v(" option or "),s("a",{attrs:{href:"#execanodescriptpath-arguments-options"}},[s("code",[t._v("execa.node()")])]),t._v(":\n- "),s("code",[t._v("json")]),t._v(": Uses "),s("code",[t._v("JSON.stringify()")]),t._v(" and "),s("code",[t._v("JSON.parse()")]),t._v(".\n- "),s("code",[t._v("advanced")]),t._v(": Uses "),s("a",{attrs:{href:"https://nodejs.org/api/v8.html#v8_v8_serialize_value",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("v8.serialize()")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Requires Node.js "),s("code",[t._v("13.2.0")]),t._v(" or later.")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_advanced_serialization",target:"_blank",rel:"noopener noreferrer"}},[t._v("More info."),s("OutboundLink")],1)]),t._v(" "),s("h4",{attrs:{id:"detached"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#detached"}},[t._v("#")]),t._v(" detached")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")])]),t._v(" "),s("p",[t._v("Prepare child to run independently of its parent process. Specific behavior "),s("a",{attrs:{href:"https://nodejs.org/api/child_process.html#child_process_options_detached",target:"_blank",rel:"noopener noreferrer"}},[t._v("depends on the platform"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"uid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#uid"}},[t._v("#")]),t._v(" uid")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("number")])]),t._v(" "),s("p",[t._v("Sets the user identity of the process.")]),t._v(" "),s("h4",{attrs:{id:"gid"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gid"}},[t._v("#")]),t._v(" gid")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("number")])]),t._v(" "),s("p",[t._v("Sets the group identity of the process.")]),t._v(" "),s("h4",{attrs:{id:"shell"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shell"}},[t._v("#")]),t._v(" shell")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean | string")]),s("br"),t._v("\nDefault: "),s("code",[t._v("false")])]),t._v(" "),s("p",[t._v("If "),s("code",[t._v("true")]),t._v(", runs "),s("code",[t._v("file")]),t._v(" inside of a shell. Uses "),s("code",[t._v("/bin/sh")]),t._v(" on UNIX and "),s("code",[t._v("cmd.exe")]),t._v(" on Windows. A different shell can be specified as a string. The shell should understand the "),s("code",[t._v("-c")]),t._v(" switch on UNIX or "),s("code",[t._v("/d /s /c")]),t._v(" on Windows.")]),t._v(" "),s("p",[t._v("We recommend against using this option since it is:")]),t._v(" "),s("ul",[s("li",[t._v("not cross-platform, encouraging shell-specific syntax.")]),t._v(" "),s("li",[t._v("slower, because of the additional shell interpretation.")]),t._v(" "),s("li",[t._v("unsafe, potentially allowing command injection.")])]),t._v(" "),s("h4",{attrs:{id:"encoding"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#encoding"}},[t._v("#")]),t._v(" encoding")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | null")]),s("br"),t._v("\nDefault: "),s("code",[t._v("utf8")])]),t._v(" "),s("p",[t._v("Specify the character encoding used to decode the "),s("code",[t._v("stdout")]),t._v(" and "),s("code",[t._v("stderr")]),t._v(" output. If set to "),s("code",[t._v("null")]),t._v(", then "),s("code",[t._v("stdout")]),t._v(" and "),s("code",[t._v("stderr")]),t._v(" will be a "),s("code",[t._v("Buffer")]),t._v(" instead of a string.")]),t._v(" "),s("h4",{attrs:{id:"timeout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#timeout"}},[t._v("#")]),t._v(" timeout")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("number")]),s("br"),t._v("\nDefault: "),s("code",[t._v("0")])]),t._v(" "),s("p",[t._v("If timeout is greater than "),s("code",[t._v("0")]),t._v(", the parent will send the signal identified by the "),s("code",[t._v("killSignal")]),t._v(" property (the default is "),s("code",[t._v("SIGTERM")]),t._v(") if the child runs longer than timeout milliseconds.")]),t._v(" "),s("h4",{attrs:{id:"maxbuffer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#maxbuffer"}},[t._v("#")]),t._v(" maxBuffer")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("number")]),s("br"),t._v("\nDefault: "),s("code",[t._v("100_000_000")]),t._v(" (100 MB)")]),t._v(" "),s("p",[t._v("Largest amount of data in bytes allowed on "),s("code",[t._v("stdout")]),t._v(" or "),s("code",[t._v("stderr")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"killsignal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#killsignal"}},[t._v("#")]),t._v(" killSignal")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string | number")]),s("br"),t._v("\nDefault: "),s("code",[t._v("SIGTERM")])]),t._v(" "),s("p",[t._v("Signal value to be used when the spawned process will be killed.")]),t._v(" "),s("h4",{attrs:{id:"windowsverbatimarguments"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windowsverbatimarguments"}},[t._v("#")]),t._v(" windowsVerbatimArguments")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("false")])]),t._v(" "),s("p",[t._v("If "),s("code",[t._v("true")]),t._v(", no quoting or escaping of arguments is done on Windows. Ignored on other platforms. This is set to "),s("code",[t._v("true")]),t._v(" automatically when the "),s("code",[t._v("shell")]),t._v(" option is "),s("code",[t._v("true")]),t._v(".")]),t._v(" "),s("h4",{attrs:{id:"windowshide"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windowshide"}},[t._v("#")]),t._v(" windowsHide")]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("boolean")]),s("br"),t._v("\nDefault: "),s("code",[t._v("true")])]),t._v(" "),s("p",[t._v("On Windows, do not create a new console window. Please note this also prevents "),s("code",[t._v("CTRL-C")]),t._v(" "),s("a",{attrs:{href:"https://github.com/nodejs/node/issues/29837",target:"_blank",rel:"noopener noreferrer"}},[t._v("from working"),s("OutboundLink")],1),t._v(" on Windows.")]),t._v(" "),s("h4",{attrs:{id:"nodepath-for-node-only"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodepath-for-node-only"}},[t._v("#")]),t._v(" nodePath "),s("em",[t._v("(For "),s("code",[t._v(".node()")]),t._v(" only)")])]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string")]),s("br"),t._v("\nDefault: "),s("a",{attrs:{href:"https://nodejs.org/api/process.html#process_process_execpath",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("process.execPath")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Node.js executable used to create the child process.")]),t._v(" "),s("h4",{attrs:{id:"nodeoptions-for-node-only"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodeoptions-for-node-only"}},[t._v("#")]),t._v(" nodeOptions "),s("em",[t._v("(For "),s("code",[t._v(".node()")]),t._v(" only)")])]),t._v(" "),s("p",[t._v("Type: "),s("code",[t._v("string[]")]),s("br"),t._v("\nDefault: "),s("a",{attrs:{href:"https://nodejs.org/api/process.html#process_process_execargv",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("process.execArgv")]),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("List of "),s("a",{attrs:{href:"https://nodejs.org/api/cli.html#cli_options",target:"_blank",rel:"noopener noreferrer"}},[t._v("CLI options"),s("OutboundLink")],1),t._v(" passed to the Node.js executable.")]),t._v(" "),s("h2",{attrs:{id:"tips"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[t._v("#")]),t._v(" Tips")]),t._v(" "),s("h3",{attrs:{id:"retry-on-error"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#retry-on-error"}},[t._v("#")]),t._v(" Retry on error")]),t._v(" "),s("p",[t._v("Gracefully handle failures by using automatic retries and exponential backoff with the "),s("a",{attrs:{href:"https://github.com/sindresorhus/p-retry",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("p-retry")]),s("OutboundLink")],1),t._v(" package:")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pRetry "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'p-retry'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("run")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" results "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'curl'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-sSL'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://sindresorhus.com/unicorn'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" results"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pRetry")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("run"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("retries"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"save-and-pipe-output-from-a-child-process"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#save-and-pipe-output-from-a-child-process"}},[t._v("#")]),t._v(" Save and pipe output from a child process")]),t._v(" "),s("p",[t._v("Let's say you want to show the output of a child process in real-time while also saving it to a variable.")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subprocess "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'echo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nsubprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" subprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\tconsole"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child output:'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"redirect-output-to-a-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redirect-output-to-a-file"}},[t._v("#")]),t._v(" Redirect output to a file")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subprocess "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'echo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'foo'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nsubprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createWriteStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stdout.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"redirect-input-from-a-file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#redirect-input-from-a-file"}},[t._v("#")]),t._v(" Redirect input from a file")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" execa "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'execa'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subprocess "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cat'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nfs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createReadStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stdin.txt'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("pipe")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("subprocess"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("stdin"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"execute-the-current-package-s-binary"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#execute-the-current-package-s-binary"}},[t._v("#")]),t._v(" Execute the current package's binary")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("getBinPathSync"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'get-bin-path'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" binPath "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getBinPathSync")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" subprocess "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("execa")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binPath"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[s("code",[t._v("execa")]),t._v(" can be combined with "),s("a",{attrs:{href:"https://github.com/ehmicky/get-bin-path",target:"_blank",rel:"noopener noreferrer"}},[s("code",[t._v("get-bin-path")]),s("OutboundLink")],1),t._v(" to test the current package's binary. As opposed to hard-coding the path to the binary, this validates that the "),s("code",[t._v("package.json")]),t._v(" "),s("code",[t._v("bin")]),t._v(" field is correctly set up.")]),t._v(" "),s("h2",{attrs:{id:"related"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#related"}},[t._v("#")]),t._v(" Related")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/ehmicky/gulp-execa",target:"_blank",rel:"noopener noreferrer"}},[t._v("gulp-execa"),s("OutboundLink")],1),t._v(" - Gulp plugin for "),s("code",[t._v("execa")])]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/ehmicky/nvexeca",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvexeca"),s("OutboundLink")],1),t._v(" - Run "),s("code",[t._v("execa")]),t._v(" using any Node.js version")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/jorangreef/sudo-prompt",target:"_blank",rel:"noopener noreferrer"}},[t._v("sudo-prompt"),s("OutboundLink")],1),t._v(" - Run commands with elevated privileges.")])]),t._v(" "),s("h2",{attrs:{id:"maintainers"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#maintainers"}},[t._v("#")]),t._v(" Maintainers")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://github.com/sindresorhus",target:"_blank",rel:"noopener noreferrer"}},[t._v("Sindre Sorhus"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/ehmicky",target:"_blank",rel:"noopener noreferrer"}},[t._v("@ehmicky"),s("OutboundLink")],1)])]),t._v(" "),s("hr"),t._v(" "),s("div",{attrs:{align:"center"}},[s("b",[s("a",{attrs:{href:"https://tidelift.com/subscription/pkg/npm-execa?utm_source=npm-execa&utm_medium=referral&utm_campaign=readme"}},[t._v("Get professional support for this package with a Tidelift subscription")])]),t._v(" "),s("br"),t._v(" "),s("sub",[t._v("\n\t\tTidelift helps make open source sustainable for maintainers while giving companies"),s("br"),t._v("assurances about security, maintenance, and licensing for their dependencies.\n\t")])])])}),[],!1,null,null,null);e.default=n.exports}}]);