(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{510:function(t,s,e){"use strict";e.r(s);var a=e(53),n=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_3-3-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-0"}},[t._v("#")]),t._v(" 3.3.0")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Support EventTarget emitters in "),e("code",[t._v("events.once")]),t._v(" from Node.js 12.11.0.")]),t._v(" "),e("p",[t._v("Now you can use the "),e("code",[t._v("events.once")]),t._v(" function with objects that implement the EventTarget interface. This interface is used widely in\nthe DOM and other web APIs.")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" events "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'events'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" assert "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'assert'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("connect")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ws "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebSocket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wss://example.com'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" events"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("once")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ws"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'open'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("assert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ws"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("readyState "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" WebSocket"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("OPEN")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onClick")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" events"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("once")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'you clicked the page!'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),e("h1",{attrs:{id:"_3-2-0"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-0"}},[t._v("#")]),t._v(" 3.2.0")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("Add "),e("code",[t._v("events.once")]),t._v(" from Node.js 11.13.0.")]),t._v(" "),e("p",[t._v("To use this function, Promises must be supported in the environment. Use a polyfill like "),e("code",[t._v("es6-promise")]),t._v(" if you support older browsers.")])])]),t._v(" "),e("h1",{attrs:{id:"_3-1-0-2020-01-08"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-0-2020-01-08"}},[t._v("#")]),t._v(" 3.1.0 (2020-01-08)")]),t._v(" "),e("p",[e("code",[t._v("events")]),t._v(" now matches the Node.js 11.12.0 API.")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("pass through return value in wrapped "),e("code",[t._v("emitter.once()")]),t._v(" listeners")]),t._v(" "),e("p",[t._v("Now, this works:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("emitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("once")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myevent'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" listener "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" emitter"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rawListeners")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'myevent'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("assert")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("listener")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("Previously, "),e("code",[t._v("listener()")]),t._v(" would return undefined regardless of the implementation.")]),t._v(" "),e("p",[t._v("Ported from https://github.com/nodejs/node/commit/acc506c2d2771dab8d7bba6d3452bc5180dff7cf")])]),t._v(" "),e("li",[e("p",[t._v("Reduce code duplication in listener type check ("),e("a",{attrs:{href:"https://github.com/Gozala/events/pull/67",target:"_blank",rel:"noopener noreferrer"}},[t._v("#67"),e("OutboundLink")],1),t._v(" by "),e("a",{attrs:{href:"https://github.com/friederbluemle",target:"_blank",rel:"noopener noreferrer"}},[t._v("@friederbluemle"),e("OutboundLink")],1),t._v(").")])]),t._v(" "),e("li",[e("p",[t._v("Improve "),e("code",[t._v("emitter.once()")]),t._v(" performance in some engines")])])]),t._v(" "),e("h1",{attrs:{id:"_3-0-0-2018-05-25"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-0-0-2018-05-25"}},[t._v("#")]),t._v(" 3.0.0 (2018-05-25)")]),t._v(" "),e("p",[e("strong",[t._v("This version drops support for IE8.")]),t._v(" "),e("code",[t._v("events")]),t._v(" no longer includes polyfills\nfor ES5 features. If you need to support older environments, use an ES5 shim\nlike "),e("a",{attrs:{href:"https://npmjs.com/package/es5-shim",target:"_blank",rel:"noopener noreferrer"}},[t._v("es5-shim"),e("OutboundLink")],1),t._v(". Both the shim and sham\nversions of es5-shim are necessary.")]),t._v(" "),e("ul",[e("li",[t._v("Update to events code from Node.js 10.x\n"),e("ul",[e("li",[t._v("(semver major) Adds "),e("code",[t._v("off()")]),t._v(" method")])])]),t._v(" "),e("li",[t._v("Port more tests from Node.js")]),t._v(" "),e("li",[t._v("Switch browser tests to airtap, making things more reliable")])]),t._v(" "),e("h1",{attrs:{id:"_2-1-0-2018-05-25"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-0-2018-05-25"}},[t._v("#")]),t._v(" 2.1.0 (2018-05-25)")]),t._v(" "),e("ul",[e("li",[t._v("add Emitter#rawListeners from Node.js v9.4")])]),t._v(" "),e("h1",{attrs:{id:"_2-0-0-2018-02-02"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-0-0-2018-02-02"}},[t._v("#")]),t._v(" 2.0.0 (2018-02-02)")]),t._v(" "),e("ul",[e("li",[t._v("Update to events code from node.js 8.x\n"),e("ul",[e("li",[t._v("Adds "),e("code",[t._v("prependListener()")]),t._v(" and "),e("code",[t._v("prependOnceListener()")])]),t._v(" "),e("li",[t._v("Adds "),e("code",[t._v("eventNames()")]),t._v(" method")]),t._v(" "),e("li",[t._v("(semver major) Unwrap "),e("code",[t._v("once()")]),t._v(" listeners in "),e("code",[t._v("listeners()")])])])]),t._v(" "),e("li",[t._v("copy tests from node.js")])]),t._v(" "),e("p",[t._v("Note that this version doubles the gzipped size, jumping from 1.1KB to 2.1KB,\ndue to new methods and runtime performance improvements. Be aware of that when\nupgrading.")]),t._v(" "),e("h1",{attrs:{id:"_1-1-1-2016-06-22"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-2016-06-22"}},[t._v("#")]),t._v(" 1.1.1 (2016-06-22)")]),t._v(" "),e("ul",[e("li",[t._v("add more context to errors if they are not instanceof Error")])]),t._v(" "),e("h1",{attrs:{id:"_1-1-0-2015-09-29"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-0-2015-09-29"}},[t._v("#")]),t._v(" 1.1.0 (2015-09-29)")]),t._v(" "),e("ul",[e("li",[t._v("add Emitter#listerCount (to match node v4 api)")])]),t._v(" "),e("h1",{attrs:{id:"_1-0-2-2014-08-28"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-2-2014-08-28"}},[t._v("#")]),t._v(" 1.0.2 (2014-08-28)")]),t._v(" "),e("ul",[e("li",[t._v("remove un-reachable code")]),t._v(" "),e("li",[t._v("update devDeps")])]),t._v(" "),e("h2",{attrs:{id:"_1-0-1-2014-05-11"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-1-2014-05-11"}},[t._v("#")]),t._v(" 1.0.1 / 2014-05-11")]),t._v(" "),e("ul",[e("li",[t._v("check for console.trace before using it")])]),t._v(" "),e("h2",{attrs:{id:"_1-0-0-2013-12-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-0-0-2013-12-10"}},[t._v("#")]),t._v(" 1.0.0 / 2013-12-10")]),t._v(" "),e("ul",[e("li",[t._v("Update to latest events code from node.js 0.10")]),t._v(" "),e("li",[t._v("copy tests from node.js")])]),t._v(" "),e("h2",{attrs:{id:"_0-4-0-2011-07-03"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-4-0-2011-07-03"}},[t._v("#")]),t._v(" 0.4.0 / 2011-07-03")]),t._v(" "),e("ul",[e("li",[t._v("Switching to graphquire@0.8.0")])]),t._v(" "),e("h2",{attrs:{id:"_0-3-0-2011-07-03"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-3-0-2011-07-03"}},[t._v("#")]),t._v(" 0.3.0 / 2011-07-03")]),t._v(" "),e("ul",[e("li",[t._v("Switching to URL based module require.")])]),t._v(" "),e("h2",{attrs:{id:"_0-2-0-2011-06-10"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-2-0-2011-06-10"}},[t._v("#")]),t._v(" 0.2.0 / 2011-06-10")]),t._v(" "),e("ul",[e("li",[t._v("Simplified package structure.")]),t._v(" "),e("li",[t._v("Graphquire for dependency management.")])]),t._v(" "),e("h2",{attrs:{id:"_0-1-1-2011-05-16"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-1-2011-05-16"}},[t._v("#")]),t._v(" 0.1.1 / 2011-05-16")]),t._v(" "),e("ul",[e("li",[t._v("Unhandled errors are logged via console.error")])]),t._v(" "),e("h2",{attrs:{id:"_0-1-0-2011-04-22"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_0-1-0-2011-04-22"}},[t._v("#")]),t._v(" 0.1.0 / 2011-04-22")]),t._v(" "),e("ul",[e("li",[t._v("Initial release")])])])}),[],!1,null,null,null);s.default=n.exports}}]);